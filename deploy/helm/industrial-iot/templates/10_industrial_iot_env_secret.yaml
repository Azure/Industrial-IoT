apiVersion: v1
kind: Secret
metadata:
  name: {{ template "industrial-iot.env.fullname" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    helm.sh/chart: {{ .Chart.Name }}-{{ .Chart.Version | replace "+" "_" }}
    app.kubernetes.io/name: {{ template "industrial-iot.name" . }}
    app.kubernetes.io/managed-by: {{ .Release.Service }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/version: {{ .Chart.AppVersion }}
    app.kubernetes.io/component: industrial-iot-env
    app.kubernetes.io/part-of: industrial-iot
type: Opaque
data:
  _HUB_CS: {{ required "A valid .Values.Azure.IoTHub.SharedAccessPolicies.iothubowner.ConnectionString is required!" .Values.Azure.IoTHub.SharedAccessPolicies.iothubowner.ConnectionString | b64enc }}
  PCS_IOTHUB_CONNSTRING: {{ required "A valid .Values.Azure.IoTHub.SharedAccessPolicies.iothubowner.ConnectionString is required!" .Values.Azure.IoTHub.SharedAccessPolicies.iothubowner.ConnectionString | b64enc }}
  PCS_STORAGEADAPTER_DOCUMENTDB_CONNSTRING: {{ required "A valid .Values.Azure.CosmosDB.ConnectionString is required!" .Values.Azure.CosmosDB.ConnectionString | b64enc }}
  PCS_TELEMETRY_DOCUMENTDB_CONNSTRING: {{ required "A valid .Values.Azure.CosmosDB.ConnectionString is required!" .Values.Azure.CosmosDB.ConnectionString | b64enc }}
  PCS_TELEMETRYAGENT_DOCUMENTDB_CONNSTRING: {{ required "A valid .Values.Azure.CosmosDB.ConnectionString is required!" .Values.Azure.CosmosDB.ConnectionString | b64enc }}
  PCS_IOTHUBREACT_ACCESS_CONNSTRING: {{ required "A valid .Values.Azure.IoTHub.SharedAccessPolicies.iothubowner.ConnectionString is required!" .Values.Azure.IoTHub.SharedAccessPolicies.iothubowner.ConnectionString | b64enc }}
  PCS_IOTHUBREACT_HUB_NAME: {{ required "A valid .Values.Azure.IoTHub.Name is required!" .Values.Azure.IoTHub.Name | b64enc }}
  PCS_IOTHUBREACT_HUB_ENDPOINT: {{ required "A valid .Values.Azure.IoTHub.EventHub.Endpoint is required!" .Values.Azure.IoTHub.EventHub.Endpoint | b64enc }}
  PCS_IOTHUBREACT_HUB_CONSUMERGROUP: {{ required "A valid .Values.Azure.IoTHub.EventHub.ConsumerGroup is required!" .Values.Azure.IoTHub.EventHub.ConsumerGroup | b64enc }}
  PCS_IOTHUBREACT_HUB_PARTITIONS: {{ required "A valid .Values.Azure.IoTHub.EventHub.PartitionCount is required!" .Values.Azure.IoTHub.EventHub.PartitionCount | int64 | printf "%d" | b64enc }}
  PCS_IOTHUBREACT_AZUREBLOB_ACCOUNT: {{  required "A valid .Values.Azure.StorageAccount.Name is required!" .Values.Azure.StorageAccount.Name | b64enc }}
  PCS_IOTHUBREACT_AZUREBLOB_KEY: {{ required "A valid .Values.Azure.StorageAccount.AccessKey is required!" .Values.Azure.StorageAccount.AccessKey | b64enc }}
  PCS_IOTHUBREACT_AZUREBLOB_ENDPOINT_SUFFIX: {{ required "A valid .Values.Azure.StorageAccount.EndpointSuffix is required!" .Values.Azure.StorageAccount.EndpointSuffix | b64enc }}
  PCS_ASA_DATA_AZUREBLOB_ACCOUNT: {{ required "A valid .Values.Azure.StorageAccount.Name is required!" .Values.Azure.StorageAccount.Name | b64enc }}
  PCS_ASA_DATA_AZUREBLOB_KEY: {{ required "A valid .Values.Azure.StorageAccount.AccessKey is required!" .Values.Azure.StorageAccount.AccessKey | b64enc }}
  PCS_ASA_DATA_AZUREBLOB_ENDPOINT_SUFFIX: {{ required "A valid .Values.Azure.StorageAccount.EndpointSuffix is required!" .Values.Azure.StorageAccount.EndpointSuffix | b64enc }}
  PCS_EVENTHUB_CONNSTRING: {{ required "A valid .Values.Azure.EventHubNamespace.SharedAccessPolicies.RootManageSharedAccessKey.ConnectionString is required!" .Values.Azure.EventHubNamespace.SharedAccessPolicies.RootManageSharedAccessKey.ConnectionString | b64enc }}
  PCS_EVENTHUB_NAME: {{ required "A valid .Values.Azure.EventHubNamespace.EventHub.Name is required!" .Values.Azure.EventHubNamespace.EventHub.Name | b64enc }}
  PCS_SERVICEBUS_CONNSTRING: {{ required "A valid .Values.Azure.ServiceBusNamespace.SharedAccessPolicies.RootManageSharedAccessKey.ConnectionString is required!" .Values.Azure.ServiceBusNamespace.SharedAccessPolicies.RootManageSharedAccessKey.ConnectionString | b64enc }}
  PCS_KEYVAULT_URL: {{ required "A valid .Values.Azure.KeyVault.URI is required!" .Values.Azure.KeyVault.URI | b64enc }}
  PCS_WORKSPACE_NAME: {{ required "A valid .Values.Azure.LogAnalyticsWorkspace.Name is required!" .Values.Azure.LogAnalyticsWorkspace.Name | b64enc }}
  PCS_APPINSIGHTS_NAME: {{ required "A valid  .Values.Azure.ApplicationInsights.Name is required!" .Values.Azure.ApplicationInsights.Name | b64enc }}
  PCS_APPINSIGHTS_INSTRUMENTATIONKEY: {{ required "A valid .Values.Azure.ApplicationInsights.InstrumentationKey is required!" .Values.Azure.ApplicationInsights.InstrumentationKey | b64enc }}
  PCS_SERVICE_URL: {{ required "A valid .Values.Azure.AppService.URL is required!" .Values.Azure.AppService.URL | b64enc }}
  PCS_SIGNALR_CONNSTRING: {{ required "A valid .Values.Azure.SignalR.ConnectionString is required!" .Values.Azure.SignalR.ConnectionString | b64enc }}
  PCS_AUTH_HTTPSREDIRECTPORT: {{ required "A valid .Values.Azure.ServicesApp.Auth.HttpsRedirectPort is required!" .Values.Azure.ServicesApp.Auth.HttpsRedirectPort | int64 | printf "%d" | b64enc }}
  PCS_AUTH_REQUIRED: {{ required "A valid .Values.Azure.ServicesApp.Auth.Required is required!" .Values.Azure.ServicesApp.Auth.Required  | printf "%t" | b64enc }}
  PCS_AUTH_AUDIENCE: {{ required "A valid .Values.Azure.ServicesApp.Auth.Audience is required!" .Values.Azure.ServicesApp.Auth.Audience | b64enc }}
  PCS_AUTH_ISSUER: {{ required "A valid .Values.Azure.TenantId is required!" .Values.Azure.TenantId | printf "https://sts.windows.net/%s/" | b64enc }}
  PCS_WEBUI_AUTH_AAD_APPID: {{ required "A valid .Values.Azure.ClientsApp.Auth.AadAppId is required!" .Values.Azure.ClientsApp.Auth.AadAppId | b64enc }}
  PCS_WEBUI_AUTH_AAD_AUTHORITY: {{ required "A valid .Values.Azure.ClientsApp.Auth.Authority is required!" .Values.Azure.ClientsApp.Auth.Authority | b64enc }}
  PCS_WEBUI_AUTH_AAD_TENANT: {{ required "A valid .Values.Azure.TenantId is required!" .Values.Azure.TenantId | b64enc }}
  PCS_CORS_WHITELIST: {{ required "A valid .Values.Azure.ServicesApp.CorsWhitelist is required!" .Values.Azure.ServicesApp.CorsWhitelist | b64enc }}
  REACT_APP_PCS_AUTH_REQUIRED: {{ required "A valid .Values.Azure.ServicesApp.Auth.Required is required!" .Values.Azure.ServicesApp.Auth.Required | printf "%t" | b64enc }}
  REACT_APP_PCS_AUTH_AUDIENCE: {{ required "A valid .Values.Azure.ServicesApp.Auth.Audience is required!" .Values.Azure.ServicesApp.Auth.Audience | b64enc }}
  REACT_APP_PCS_AUTH_ISSUER: {{ required "A valid .Values.Azure.TenantId is required!" .Values.Azure.TenantId | printf "https://sts.windows.net/%s/" | b64enc }}
  REACT_APP_PCS_WEBUI_AUTH_AAD_APPID: {{ required "A valid .Values.Azure.ClientsApp.Auth.AadAppId is required!" .Values.Azure.ClientsApp.Auth.AadAppId | b64enc }}
  REACT_APP_PCS_WEBUI_AUTH_AAD_AUTHORITY: {{ required "A valid .Values.Azure.ClientsApp.Auth.Authority is required!" .Values.Azure.ClientsApp.Auth.Authority | b64enc }}
  REACT_APP_PCS_WEBUI_AUTH_AAD_TENANT: {{ required "A valid .Values.Azure.TenantId is required!" .Values.Azure.TenantId | b64enc }}
