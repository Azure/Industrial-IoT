#
# Frontend
#
- name: frontend
  project: samples\src\Microsoft.Azure.IIoT.App\src\Microsoft.Azure.IIoT.App.csproj
  replicas: 2
  bindings:
    - port: 5000
  
#
# Backend
# 

# Registry services
- name: registry
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Registry\src\Microsoft.Azure.IIoT.Services.OpcUa.Registry.csproj
  replicas: 2
  bindings:
    - port: 9042
- name: registry.onboarding
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Registry.Onboarding\src\Microsoft.Azure.IIoT.Services.OpcUa.Registry.Onboarding.csproj
  replicas: 1
  bindings:
    - port: 9060
- name: registry.sync
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Registry.Sync\src\Microsoft.Azure.IIoT.Services.OpcUa.Registry.Sync.csproj
  replicas: 1

# Twin services
- name: twin
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Twin\src\Microsoft.Azure.IIoT.Services.OpcUa.Twin.csproj
  replicas: 2
  bindings:
    - port: 9041
- name: twin.history
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Twin.History\src\Microsoft.Azure.IIoT.Services.OpcUa.Twin.History.csproj
  replicas: 1
  bindings:
    - port: 9043
- name: twin.gateway
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Twin.Gateway\src\Microsoft.Azure.IIoT.Services.OpcUa.Twin.Gateway.csproj
  replicas: 1
  bindings:
    - port: 9040

# Publisher services
- name: publisher
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Publisher\src\Microsoft.Azure.IIoT.Services.OpcUa.Publisher.csproj
  replicas: 2
  bindings:
    - port: 9045
- name: jobs
  project: services\src\Microsoft.Azure.IIoT.Services.Common.Jobs\src\Microsoft.Azure.IIoT.Services.Common.Jobs.csproj
  replicas: 1
  bindings:
    - port: 9046
- name: jobs-edge
  project: services\src\Microsoft.Azure.IIoT.Services.Common.Jobs.Edge\src\Microsoft.Azure.IIoT.Services.Common.Jobs.Edge.csproj
  replicas: 1
  bindings:
    - port: 9051
  
# Vault services
- name: vault
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Vault\src\Microsoft.Azure.IIoT.Services.OpcUa.Vault.csproj
  replicas: 2
  bindings:
    - port: 9044
- name: auth
  project: services\src\Microsoft.Azure.IIoT.Services.Common.Auth\src\Microsoft.Azure.IIoT.Services.Common.Auth.csproj
  replicas: 1
  bindings:
    - port: 9090
- name: users
  project: services\src\Microsoft.Azure.IIoT.Services.Common.Users\src\Microsoft.Azure.IIoT.Services.Common.Users.csproj
  replicas: 1
  bindings:
    - port: 9048

# Event services
- name: events
  project: services\src\Microsoft.Azure.IIoT.Services.OpcUa.Events\src\Microsoft.Azure.IIoT.Services.OpcUa.Events.csproj
  replicas: 2
  bindings:
    - port: 9050
    
  
# Iot hub consumers
- name: hub.telemetry
  project: services\src\Microsoft.Azure.IIoT.Services.Processor.Telemetry\src\Microsoft.Azure.IIoT.Services.Processor.Telemetry.csproj
  replicas: 4
- name: hub.events
  project: services\src\Microsoft.Azure.IIoT.Services.Processor.Events\src\Microsoft.Azure.IIoT.Services.Processor.Events.csproj
  replicas: 4
- name: hub.tunnel
  project: services\src\Microsoft.Azure.IIoT.Services.Processor.Tunnel\src\Microsoft.Azure.IIoT.Services.Processor.Tunnel.csproj
  replicas: 4
# Event hub consumers
- name: data.cdm
  project: services\src\Microsoft.Azure.IIoT.Services.Processor.Telemetry.Cdm\src\Microsoft.Azure.IIoT.Services.Processor.Telemetry.Cdm.csproj
  replicas: 4
